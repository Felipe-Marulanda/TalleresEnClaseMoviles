<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Evidencias Firebase - MÃ³dulo Universidades (Printable)</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
    :root{--bg:#fff;--muted:#6b7280;--accent:#3b82f6;--success:#10b981;--mono:#1f2937}
    body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; margin:32px; color:#111827; line-height:1.6}
    header{border-bottom:2px solid var(--accent);padding-bottom:16px;margin-bottom:24px}
    h1{font-size:32px;margin:8px 0;color:var(--accent)}
    h2{font-size:22px;color:#1f2937;margin:20px 0 12px 0;border-left:4px solid var(--accent);padding-left:12px}
    h3{font-size:18px;color:var(--accent);margin:16px 0 8px 0}
    p,li{line-height:1.6;color:#374151}
    .muted{color:var(--muted)}
    .success{color:var(--success);font-weight:600}
    pre{background:#0f172a;color:#e6eef8;padding:16px;border-radius:8px;overflow:auto;margin:12px 0}
    code{background:#f3f4f6;padding:2px 6px;border-radius:4px;font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace}
    .highlight{background:#fef3c7;padding:12px;border-left:4px solid #f59e0b;border-radius:6px;margin:12px 0}
    .tech-stack{background:#f0f9ff;border:1px solid #0ea5e9;border-radius:8px;padding:16px;margin:16px 0}
    .checklist{background:#f0fdf4;border:1px solid #22c55e;border-radius:8px;padding:16px;margin:16px 0}
    .checklist li{list-style:none;position:relative;padding-left:24px}
    .checklist li:before{content:'âœ…';position:absolute;left:0}
    table{border-collapse:collapse;width:100%;margin:16px 0}
    th,td{border:1px solid #e5e7eb;padding:8px 12px;text-align:left}
    th{background:#f9fafb;font-weight:600}
    footer{font-size:12px;color:var(--muted);margin-top:32px;border-top:1px dashed #e5e7eb;padding-top:12px}
    @media print{ body{margin:18mm} header{page-break-after:avoid} pre{font-size:10px} h2{page-break-after:avoid} }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ”¥ Evidencias Firebase - MÃ³dulo Universidades</h1>
    <div class="muted">Documento tÃ©cnico del mÃ³dulo Flutter + Firebase para gestiÃ³n de universidades. 
    <br>Exportar este archivo a PDF: abrir en navegador â†’ Ctrl+P â†’ Guardar como PDF.</div>
  </header>

  <main>

    <section class="tech-stack">
      <h2>ğŸ“‹ Resumen del MÃ³dulo</h2>
      <p><strong>Objetivo:</strong> Desarrollar un mÃ³dulo en Flutter que integre Firebase y cree/gestione la colecciÃ³n <code>universidades</code> con operaciones CRUD en tiempo real.</p>
      <p><strong>TecnologÃ­as implementadas:</strong></p>
      <ul>
        <li>Flutter 3.3.0+</li>
        <li>Firebase Core 3.15.2</li>
        <li>Cloud Firestore 5.6.12</li>
        <li>Provider para gestiÃ³n de estado</li>
        <li>GoRouter para navegaciÃ³n</li>
      </ul>
    </section>

    <section>
      <h2>ğŸ—ï¸ Arquitectura del CÃ³digo</h2>
      
      <h3>Estructura de Archivos</h3>
      <pre>lib/
â”œâ”€â”€ firebase_options.dart           # ConfiguraciÃ³n Firebase
â”œâ”€â”€ models/
â”‚   â””â”€â”€ universidad.dart           # Modelo de datos Universidad
â”œâ”€â”€ services/
â”‚   â””â”€â”€ universidad_service.dart   # Servicio CRUD Firebase
â”œâ”€â”€ views/universidades/
â”‚   â”œâ”€â”€ universidades_screen.dart  # Listado con Stream tiempo real
â”‚   â””â”€â”€ nueva_universidad_screen.dart # Formulario de creaciÃ³n
â””â”€â”€ routes/
    â””â”€â”€ app_router.dart            # Rutas: /universidades, /nueva_universidad</pre>

      <h3>Modelo de Datos Firestore</h3>
      <table>
        <tr>
          <th>Campo</th>
          <th>Tipo</th>
          <th>DescripciÃ³n</th>
          <th>Ejemplo</th>
        </tr>
        <tr>
          <td>nit</td>
          <td>string</td>
          <td>NÃºmero de identificaciÃ³n tributaria</td>
          <td>890.123.456-7</td>
        </tr>
        <tr>
          <td>nombre</td>
          <td>string</td>
          <td>Nombre completo de la universidad</td>
          <td>Universidad Central del Valle</td>
        </tr>
        <tr>
          <td>direccion</td>
          <td>string</td>
          <td>DirecciÃ³n fÃ­sica completa</td>
          <td>Cra 27A #48-144, TuluÃ¡ - Valle</td>
        </tr>
        <tr>
          <td>telefono</td>
          <td>string</td>
          <td>NÃºmero telefÃ³nico con cÃ³digo paÃ­s</td>
          <td>+57 602 2242202</td>
        </tr>
        <tr>
          <td>pagina_web</td>
          <td>string</td>
          <td>URL oficial de la universidad</td>
          <td>https://www.uceva.edu.co</td>
        </tr>
      </table>
    </section>

    <section class="checklist">
      <h2>ğŸ”§ Funcionalidades Implementadas</h2>
      
      <h3>1. ConexiÃ³n Firebase</h3>
      <ul class="checklist">
        <li>InicializaciÃ³n en <code>main.dart</code></li>
        <li>ConfiguraciÃ³n multiplataforma (<code>firebase_options.dart</code>)</li>
        <li>IntegraciÃ³n con Cloud Firestore</li>
      </ul>

      <h3>2. Operaciones CRUD</h3>
      <ul class="checklist">
        <li><strong>Crear:</strong> Formulario con validaciÃ³n, verificaciÃ³n NIT duplicado</li>
        <li><strong>Listar:</strong> Stream en tiempo real, ordenamiento por nombre</li>
        <li><strong>Eliminar:</strong> ConfirmaciÃ³n antes de eliminar, actualizaciÃ³n inmediata</li>
      </ul>

      <h3>3. Validaciones</h3>
      <ul class="checklist">
        <li>NIT: formato <code>^\d{3,9}[-.]?\d{1}$</code></li>
        <li>TelÃ©fono: formato <code>^[\+]?[\d\s\-\(\)]{7,15}$</code></li>
        <li>URL: esquema http/https obligatorio</li>
        <li>Campos requeridos: todos los campos son obligatorios</li>
      </ul>
    </section>

    <section>
      <h2>ğŸ“Š Datos de Prueba</h2>
      
      <div class="highlight">
        <strong>Universidad de Ejemplo 1:</strong><br>
        NIT: 890.123.456-7<br>
        Nombre: Universidad Central del Valle (UCEVA)<br>
        DirecciÃ³n: Cra 27A #48-144, TuluÃ¡ - Valle del Cauca<br>
        TelÃ©fono: +57 602 2242202<br>
        PÃ¡gina Web: https://www.uceva.edu.co
      </div>

      <div class="highlight">
        <strong>Universidad de Ejemplo 2:</strong><br>
        NIT: 860.006.502-1<br>
        Nombre: Universidad Nacional de Colombia<br>
        DirecciÃ³n: Carrera 45 # 26-85, BogotÃ¡ D.C.<br>
        TelÃ©fono: +57 1 3165000<br>
        PÃ¡gina Web: https://unal.edu.co
      </div>
    </section>

    <section>
      <h2>ğŸ› ï¸ Comandos de VerificaciÃ³n</h2>
      
      <h3>Setup del Proyecto</h3>
      <pre># Instalar dependencias
flutter pub get

# Verificar configuraciÃ³n  
flutter analyze

# Ejecutar en modo debug
flutter run

# Ejecutar tests
flutter test</pre>

      <h3>Flujo de Prueba Manual</h3>
      <ol>
        <li>Abrir la app en emulador/dispositivo</li>
        <li>Ir al Drawer â†’ "Universidades"</li>
        <li>Crear una nueva universidad con datos vÃ¡lidos</li>
        <li>Verificar que aparece inmediatamente en la lista</li>
        <li>Intentar crear con NIT duplicado (debe fallar)</li>
        <li>Eliminar una universidad (con confirmaciÃ³n)</li>
      </ol>
    </section>

    <section>
      <h2>ğŸ” Casos de Uso Verificados</h2>
      
      <table>
        <tr>
          <th>Caso de Uso</th>
          <th>Estado</th>
          <th>Observaciones</th>
        </tr>
        <tr>
          <td>Crear Universidad VÃ¡lida</td>
          <td class="success">âœ… Implementado</td>
          <td>Todos los campos validados, guardado en Firestore</td>
        </tr>
        <tr>
          <td>Validar Campos VacÃ­os</td>
          <td class="success">âœ… Implementado</td>
          <td>Mensajes de error especÃ­ficos por campo</td>
        </tr>
        <tr>
          <td>Validar NIT Duplicado</td>
          <td class="success">âœ… Implementado</td>
          <td>VerificaciÃ³n antes de guardar</td>
        </tr>
        <tr>
          <td>Stream Tiempo Real</td>
          <td class="success">âœ… Implementado</td>
          <td>Lista se actualiza automÃ¡ticamente</td>
        </tr>
        <tr>
          <td>Eliminar con ConfirmaciÃ³n</td>
          <td class="success">âœ… Implementado</td>
          <td>Dialog de confirmaciÃ³n antes de eliminar</td>
        </tr>
        <tr>
          <td>Estados de Loading/Error</td>
          <td class="success">âœ… Implementado</td>
          <td>UI responsiva con feedback visual</td>
        </tr>
      </table>
    </section>

    <section>
      <h2>ğŸ“‹ Checklist de Evidencia</h2>
      
      <h3>Para Capturas de Pantalla</h3>
      <ul>
        <li>â˜ ConfiguraciÃ³n Firebase en consola</li>
        <li>â˜ Dependencias en <code>pubspec.yaml</code></li>
        <li>â˜ Listado vacÃ­o (estado inicial)</li>
        <li>â˜ Formulario de nueva universidad</li>
        <li>â˜ Validaciones fallando (campos vacÃ­os/formatos incorrectos)</li>
        <li>â˜ Universidad creada exitosamente</li>
        <li>â˜ Listado con universidades (tiempo real)</li>
        <li>â˜ EliminaciÃ³n con confirmaciÃ³n</li>
        <li>â˜ ColecciÃ³n <code>universidades</code> en Firestore Console</li>
      </ul>

      <h3>Para RevisiÃ³n de CÃ³digo</h3>
      <ul>
        <li>â˜ <code>lib/models/universidad.dart</code> - Modelo de datos</li>
        <li>â˜ <code>lib/services/universidad_service.dart</code> - Servicio CRUD</li>
        <li>â˜ <code>lib/views/universidades/universidades_screen.dart</code> - UI principal</li>
        <li>â˜ <code>lib/views/universidades/nueva_universidad_screen.dart</code> - Formulario</li>
        <li>â˜ <code>lib/firebase_options.dart</code> - ConfiguraciÃ³n Firebase</li>
      </ul>
    </section>

    <section>
      <h2>ğŸ“ Notas TÃ©cnicas</h2>
      
      <div class="highlight">
        <strong>ConfiguraciÃ³n Firebase:</strong> Se usa configuraciÃ³n de demo para desarrollo local. 
        Para producciÃ³n, reemplazar con credenciales reales del proyecto Firebase.
      </div>

      <div class="highlight">
        <strong>Seguridad:</strong> Las rules de Firestore estÃ¡n configuradas de forma permisiva para desarrollo. 
        En producciÃ³n se debe implementar autenticaciÃ³n y rules estrictas.
      </div>

      <div class="highlight">
        <strong>Performance:</strong> Stream optimizado con <code>orderBy('nombre')</code> y queries eficientes. 
        UI responsiva con estados de carga apropiados.
      </div>
    </section>

    <footer>
      <strong>Documento generado:</strong> Noviembre 2025 Â· 
      <strong>Rama:</strong> feature/taller_firebase_universidades Â· 
      <strong>Estado:</strong> <span class="success">Desarrollo completado</span>
    </footer>

  </main>
</body>
</html>